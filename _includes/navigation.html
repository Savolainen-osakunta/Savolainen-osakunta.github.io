<!-- Belongs at: /_includes/navigation.html -->

<!-- This finds the current page so it can be highlighted. -->

{% for entry in site.data.navigation %}
{% capture fullurl %}{{ site.baseurl }}{{ entry.url }}{% endcapture %}
    {% if fullurl == page.url %}
        {% assign current_page = fullurl %}
        {% break %}
    {% elsif page.url contains fullurl %}
        {% assign current_page = fullurl %}
    {% endif %}
{% endfor %}

<!-- Then we build the nav bar. -->
<nav class="navbar navbar-expand-sm navbar-light bg-light">
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav mx-auto">
        {% for entry in site.data.navigation %}
            {% if entry.url contains current_page %}
                {% assign current = ' active' %}
            {% else %}
                {% assign current = '' %}
            {% endif %}
            {% assign sublinks = entry.sublinks %}
            <li class="nav-item {{ current }}">
                <a class="nav-link" href="{{ site.baseurl }}{{ entry.url }}">{{ entry.title }}</a>
            </li>
        {% endfor %}
        </ul>
    </div>
</nav>
